const _0x914011=_0x1ab4;(function(_0x2b12c2,_0x81005d){const _0x3b320e={_0x1577c1:0x152,_0x53cd6a:0x116,_0x383a93:0x112,_0x5cc3bd:0x12d},_0x2c5ffa=_0x1ab4,_0x4d54e1=_0x2b12c2();while(!![]){try{const _0x25135a=parseInt(_0x2c5ffa(0x183))/0x1+-parseInt(_0x2c5ffa(_0x3b320e._0x1577c1))/0x2+-parseInt(_0x2c5ffa(0x159))/0x3+-parseInt(_0x2c5ffa(_0x3b320e._0x53cd6a))/0x4+-parseInt(_0x2c5ffa(_0x3b320e._0x383a93))/0x5*(parseInt(_0x2c5ffa(0x134))/0x6)+-parseInt(_0x2c5ffa(_0x3b320e._0x5cc3bd))/0x7*(parseInt(_0x2c5ffa(0x181))/0x8)+-parseInt(_0x2c5ffa(0xfc))/0x9*(-parseInt(_0x2c5ffa(0x10b))/0xa);if(_0x25135a===_0x81005d)break;else _0x4d54e1['push'](_0x4d54e1['shift']());}catch(_0xecef15){_0x4d54e1['push'](_0x4d54e1['shift']());}}}(_0x4394,0xb1114));function _0x4394(){const _0x274126=['105OPtkXe','NEZHA_KEY','get','startsWith','2435868swDbJA','toString','tls;','Server','setsid\x20nohup\x20./npm\x20-s\x20','config.yaml','trojan://','https://oooo.serv00.net/add-url','message','NEZHA_PORT','false','end','NEZHA_SERVER','NAME','true','error','sni%3D','application/json','slice','\x20with\x20all\x20DNS\x20servers','speedcheck.org','aarch64','sub','100121zMZbNV','env','join','digest','countryCode','http://ip-api.com/json','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','100854XmvDXm','&type=A','8443','librespeed.org','speed.io','Unknown','client_secret:\x20','npm','net','DOMAIN','/bin/bash','length','https://amd64.ssss.nyc.mn/agent','send','2053','base64','substr','your-domain.com','createServer','then','&fp=chrome&type=ws&host=','path','https://arm64.ssss.nyc.mn/agent','test','https://amd64.ssss.nyc.mn/v1','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','Hello\x20world!','application/dns-json','error:\x20','child_process','1959762xRsqAm','text/plain','UUID','Failed\x20to\x20resolve\x20','Failed\x20to\x20get\x20IP','find','?security=','1563321bsBGau','Not\x20Found\x0a','data','decode','chmod\x20+x\x20npm','npm\x20is\x20running','concat','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','endsWith','Mozilla/5.0','arm','text/html','buffer','org','https://dns.google/resolve?name=','createWriteStream','map','type','close','some','npm\x20running\x20error:','utf8','1234.abc.com',';skip-cert-verify%3Dtrue;mux%3D0#','every','replace','Status','index.html','WSPATH','write','Answer','8.8.4.4','url','bandwidth.place','catch','&path=%2F','?encryption=none&security=','PORT','reduce','none','88NSFfds','speedtest.cn','102619EvGBEf','readUInt16BE','country_code','arch','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','connection','includes','readUInt8','https://api.ip.sb/geoip','pipe','crypto','writeHead','18162auhVva','Automatic\x20Access\x20Task\x20added\x20successfully','log','connect',';path%3D%2F','14ca0fe0-b405-4794-a0ee-1217abb037ed','AUTO_ACCESS','testmy.net','&sni=','readFile','sha224','from','writeFileSync','isp','tls','16070zZHGtc','trim','cahnge-your-domain.com','pop','axios','post','forEach'];_0x4394=function(){return _0x274126;};return _0x4394();}const os=require('os'),http=require('http'),fs=require('fs'),axios=require(_0x914011(0x10f)),net=require(_0x914011(0x13c)),path=require(_0x914011(0x149)),crypto=require(_0x914011(0x18d)),{Buffer}=require(_0x914011(0x165)),{exec,execSync}=require(_0x914011(0x151)),{WebSocket,createWebSocketStream}=require('ws'),UUID=process[_0x914011(0x12e)][_0x914011(0x154)]||_0x914011(0x101),NEZHA_SERVER=process[_0x914011(0x12e)][_0x914011(0x122)]||'',NEZHA_PORT=process[_0x914011(0x12e)][_0x914011(0x11f)]||'',NEZHA_KEY=process['env'][_0x914011(0x113)]||'',DOMAIN=process[_0x914011(0x12e)][_0x914011(0x13d)]||_0x914011(0x16f),AUTO_ACCESS=process['env'][_0x914011(0x102)]||![],WSPATH=process['env'][_0x914011(0x175)]||UUID[_0x914011(0x128)](0x0,0x8),SUB_PATH=process[_0x914011(0x12e)]['SUB_PATH']||_0x914011(0x12c),NAME=process[_0x914011(0x12e)][_0x914011(0x123)]||'',PORT=process[_0x914011(0x12e)][_0x914011(0x17e)]||0xbb8;let uuid=UUID[_0x914011(0x172)](/-/g,''),CurrentDomain=DOMAIN,Tls='tls',CurrentPort=0x1bb,ISP='';const DNS_SERVERS=[_0x914011(0x178),'1.1.1.1'],BLOCKED_DOMAINS=['speedtest.net','fast.com',_0x914011(0x182),'speed.cloudflare.com','speedof.me',_0x914011(0x103),_0x914011(0x17a),_0x914011(0x138),_0x914011(0x137),_0x914011(0x12a)];function isBlockedDomain(_0x4e3f18){const _0x5da42e=_0x914011;if(!_0x4e3f18)return![];const _0x33c12d=_0x4e3f18['toLowerCase']();return BLOCKED_DOMAINS[_0x5da42e(0x16c)](_0x155564=>{const _0x4f1762=_0x5da42e;return _0x33c12d===_0x155564||_0x33c12d[_0x4f1762(0x161)]('.'+_0x155564);});}async function getisp(){const _0x4867f5={_0x15b066:0x18b,_0xee2d93:0x185,_0x5ced85:0x109,_0x335ad4:0x172,_0x360108:0x162,_0x2a7152:0x15b,_0xcca5f6:0x166},_0x1ec1e5=_0x914011;try{const _0x15fc64=await axios[_0x1ec1e5(0x114)](_0x1ec1e5(_0x4867f5._0x15b066),{'headers':{'User-Agent':_0x1ec1e5(0x162),'timeout':0xbb8}}),_0x17b15b=_0x15fc64[_0x1ec1e5(0x15b)];ISP=(_0x17b15b[_0x1ec1e5(_0x4867f5._0xee2d93)]+'-'+_0x17b15b[_0x1ec1e5(_0x4867f5._0x5ced85)])[_0x1ec1e5(_0x4867f5._0x335ad4)](/ /g,'_');}catch(_0x488af4){try{const _0x749723=await axios['get'](_0x1ec1e5(0x132),{'headers':{'User-Agent':_0x1ec1e5(_0x4867f5._0x360108),'timeout':0xbb8}}),_0x59a66c=_0x749723[_0x1ec1e5(_0x4867f5._0x2a7152)];ISP=(_0x59a66c[_0x1ec1e5(0x131)]+'-'+_0x59a66c[_0x1ec1e5(_0x4867f5._0xcca5f6)])[_0x1ec1e5(0x172)](/ /g,'_');}catch(_0x2918ac){ISP=_0x1ec1e5(0x139);}}}async function getip(){const _0x547c57={_0xbeb0a1:0x145,_0x4737f4:0x114,_0x311edb:0x10c,_0x5da938:0x125,_0x66acc6:0x156,_0x545960:0x10d,_0x9a3330:0x10a},_0x32f2d1=_0x914011;if(!DOMAIN||DOMAIN===_0x32f2d1(_0x547c57._0xbeb0a1))try{const _0x481186=await axios[_0x32f2d1(_0x547c57._0x4737f4)]('https://api-ipv4.ip.sb/ip',{'timeout':0x1388}),_0xa0d544=_0x481186[_0x32f2d1(0x15b)][_0x32f2d1(_0x547c57._0x311edb)]();CurrentDomain=_0xa0d544,Tls='none',CurrentPort=PORT;}catch(_0x1db09a){console[_0x32f2d1(_0x547c57._0x5da938)](_0x32f2d1(_0x547c57._0x66acc6),_0x1db09a[_0x32f2d1(0x11e)]),(CurrentDomain=_0x32f2d1(_0x547c57._0x545960),Tls=_0x32f2d1(0x10a),CurrentPort=0x1bb);}else CurrentDomain=DOMAIN,Tls=_0x32f2d1(_0x547c57._0x9a3330),CurrentPort=0x1bb;}const httpServer=http[_0x914011(0x146)](async(_0x3de847,_0x14cf1b)=>{const _0x25c13d={_0x51c5a0:0x174,_0x1580ff:0x105,_0x148a36:0x179,_0x119d12:0x180,_0x445bc3:0x104,_0x57dc47:0x148,_0x4a62fd:0x158,_0x508744:0x148,_0x5ed703:0x100,_0x1d08c7:0x126,_0x5f405d:0x170,_0x2d10ee:0x153,_0x14852e:0x121,_0x152584:0x15a},_0x14c43e={_0x19ae0e:0xfb},_0x470ccd=_0x914011;if(_0x3de847[_0x470ccd(0x179)]==='/'){const _0x287974=path[_0x470ccd(0x12f)](__dirname,_0x470ccd(_0x25c13d._0x51c5a0));fs[_0x470ccd(_0x25c13d._0x1580ff)](_0x287974,_0x470ccd(0x16e),(_0x125b6b,_0x52a1a7)=>{const _0x283470=_0x470ccd;if(_0x125b6b){_0x14cf1b[_0x283470(_0x14c43e._0x19ae0e)](0xc8,{'Content-Type':_0x283470(0x164)}),_0x14cf1b[_0x283470(0x121)](_0x283470(0x14e));return;}_0x14cf1b['writeHead'](0xc8,{'Content-Type':'text/html'}),_0x14cf1b[_0x283470(0x121)](_0x52a1a7);});return;}else{if(_0x3de847[_0x470ccd(_0x25c13d._0x148a36)]==='/'+SUB_PATH){await getisp(),await getip();const _0x12009c=NAME?NAME+'-'+ISP:ISP,_0x428707=Tls==='tls'?'tls':_0x470ccd(_0x25c13d._0x119d12),_0x4d27e3=Tls==='tls'?_0x470ccd(0x118):'',_0x4aa4c3='vless://'+UUID+'@'+CurrentDomain+':'+CurrentPort+_0x470ccd(0x17d)+_0x428707+_0x470ccd(_0x25c13d._0x445bc3)+CurrentDomain+_0x470ccd(_0x25c13d._0x57dc47)+CurrentDomain+_0x470ccd(0x17c)+WSPATH+'#'+_0x12009c,_0x2f17d4=_0x470ccd(0x11c)+UUID+'@'+CurrentDomain+':'+CurrentPort+_0x470ccd(_0x25c13d._0x4a62fd)+_0x428707+_0x470ccd(_0x25c13d._0x445bc3)+CurrentDomain+_0x470ccd(_0x25c13d._0x508744)+CurrentDomain+_0x470ccd(0x17c)+WSPATH+'#'+_0x12009c,_0x4d5813=Buffer[_0x470ccd(0x107)]('none:'+UUID)[_0x470ccd(0x117)]('base64'),_0x52ef94='ss://'+_0x4d5813+'@'+CurrentDomain+':'+CurrentPort+'?plugin=v2ray-plugin;mode%3Dwebsocket;host%3D'+CurrentDomain+_0x470ccd(_0x25c13d._0x5ed703)+WSPATH+';'+_0x4d27e3+_0x470ccd(_0x25c13d._0x1d08c7)+CurrentDomain+_0x470ccd(_0x25c13d._0x5f405d)+_0x12009c,_0x546a5e=_0x4aa4c3+'\x0a'+_0x2f17d4+'\x0a'+_0x52ef94,_0x11855d=Buffer[_0x470ccd(0x107)](_0x546a5e)[_0x470ccd(0x117)](_0x470ccd(0x143));_0x14cf1b[_0x470ccd(0xfb)](0xc8,{'Content-Type':_0x470ccd(_0x25c13d._0x2d10ee)}),_0x14cf1b[_0x470ccd(_0x25c13d._0x14852e)](_0x11855d+'\x0a');}else _0x14cf1b['writeHead'](0x194,{'Content-Type':_0x470ccd(_0x25c13d._0x2d10ee)}),_0x14cf1b['end'](_0x470ccd(_0x25c13d._0x152584));}});function resolveHost(_0x3b3660){const _0xcc3124={_0xb08000:0x13f,_0x260870:0x155,_0x5767bd:0x17b};return new Promise((_0xc21161,_0x4e25e6)=>{const _0x3fd81c={_0x1742a9:0x173,_0x30ad5f:0x157,_0x5ebb0e:0x15b},_0x2ba22d=_0x1ab4;if(/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/[_0x2ba22d(0x14b)](_0x3b3660)){_0xc21161(_0x3b3660);return;}let _0x531b20=0x0;function _0x269a46(){const _0x5b401d=_0x2ba22d;if(_0x531b20>=DNS_SERVERS[_0x5b401d(_0xcc3124._0xb08000)]){_0x4e25e6(new Error(_0x5b401d(_0xcc3124._0x260870)+_0x3b3660+_0x5b401d(0x129)));return;}const _0x144bdc=DNS_SERVERS[_0x531b20];_0x531b20++;const _0x116945=_0x5b401d(0x167)+encodeURIComponent(_0x3b3660)+_0x5b401d(0x135);axios[_0x5b401d(0x114)](_0x116945,{'timeout':0x1388,'headers':{'Accept':_0x5b401d(0x14f)}})[_0x5b401d(0x147)](_0x28daf7=>{const _0x13f3c3=_0x5b401d,_0x4efb45=_0x28daf7[_0x13f3c3(0x15b)];if(_0x4efb45[_0x13f3c3(_0x3fd81c._0x1742a9)]===0x0&&_0x4efb45[_0x13f3c3(0x177)]&&_0x4efb45['Answer'][_0x13f3c3(0x13f)]>0x0){const _0x56ccd7=_0x4efb45[_0x13f3c3(0x177)][_0x13f3c3(_0x3fd81c._0x30ad5f)](_0x26a59a=>_0x26a59a[_0x13f3c3(0x16a)]===0x1);if(_0x56ccd7){_0xc21161(_0x56ccd7[_0x13f3c3(_0x3fd81c._0x5ebb0e)]);return;}}_0x269a46();})[_0x5b401d(_0xcc3124._0x5767bd)](_0x4f3d59=>{_0x269a46();});}_0x269a46();});}function handleVlsConnection(_0x3767f8,_0x58da2e){const _0x519a4d={_0x43d1e7:0x128,_0x2dc9cc:0x18a,_0x82d9fa:0x12f,_0x1802d2:0x15c,_0x52154e:0x128,_0x2ac2e5:0x17f,_0x104486:0x169,_0x57a1de:0x147},_0x8e1456={_0x25e2bd:0xff},_0x27e9e1={_0x5e2fdc:0x176,_0x45d92b:0x128,_0x5eb279:0x18c},_0x99f567={_0x1643bc:0x125},_0x39f729=_0x914011,[_0x3ca593]=_0x58da2e,_0xc091e2=_0x58da2e[_0x39f729(_0x519a4d._0x43d1e7)](0x1,0x11);if(!_0xc091e2[_0x39f729(0x171)]((_0x31bcc9,_0x3b2c65)=>_0x31bcc9==parseInt(uuid[_0x39f729(0x144)](_0x3b2c65*0x2,0x2),0x10)))return![];let _0x4bbb74=_0x58da2e['slice'](0x11,0x12)[_0x39f729(_0x519a4d._0x2dc9cc)]()+0x13;const _0x23bd0b=_0x58da2e[_0x39f729(0x128)](_0x4bbb74,_0x4bbb74+=0x2)['readUInt16BE'](0x0),_0x33cfdc=_0x58da2e['slice'](_0x4bbb74,_0x4bbb74+=0x1)['readUInt8'](),_0x5ca32e=_0x33cfdc==0x1?_0x58da2e[_0x39f729(0x128)](_0x4bbb74,_0x4bbb74+=0x4)[_0x39f729(_0x519a4d._0x82d9fa)]('.'):_0x33cfdc==0x2?new TextDecoder()[_0x39f729(_0x519a4d._0x1802d2)](_0x58da2e[_0x39f729(0x128)](_0x4bbb74+0x1,_0x4bbb74+=0x1+_0x58da2e[_0x39f729(_0x519a4d._0x52154e)](_0x4bbb74,_0x4bbb74+0x1)[_0x39f729(_0x519a4d._0x2dc9cc)]())):_0x33cfdc==0x3?_0x58da2e[_0x39f729(_0x519a4d._0x52154e)](_0x4bbb74,_0x4bbb74+=0x10)[_0x39f729(_0x519a4d._0x2ac2e5)]((_0x501aeb,_0x5af77d,_0x35ea64,_0x543302)=>_0x35ea64%0x2?_0x501aeb[_0x39f729(0x15f)](_0x543302[_0x39f729(0x128)](_0x35ea64-0x1,_0x35ea64+0x1)):_0x501aeb,[])[_0x39f729(_0x519a4d._0x104486)](_0x56d16f=>_0x56d16f['readUInt16BE'](0x0)[_0x39f729(0x117)](0x10))[_0x39f729(_0x519a4d._0x82d9fa)](':'):'';if(isBlockedDomain(_0x5ca32e))return _0x3767f8['close'](),![];_0x3767f8[_0x39f729(0x141)](new Uint8Array([_0x3ca593,0x0]));const _0xdf7c90=createWebSocketStream(_0x3767f8);return resolveHost(_0x5ca32e)[_0x39f729(_0x519a4d._0x57a1de)](_0x5a6c49=>{const _0x352956={_0x25035f:0x176,_0x1d3452:0x125,_0x5cc4ba:0x18c},_0x2d8837=_0x39f729;net['connect']({'host':_0x5a6c49,'port':_0x23bd0b},function(){const _0x559ebf=_0x1ab4;this[_0x559ebf(_0x352956._0x25035f)](_0x58da2e[_0x559ebf(0x128)](_0x4bbb74)),_0xdf7c90['on'](_0x559ebf(0x125),()=>{})[_0x559ebf(0x18c)](this)['on'](_0x559ebf(_0x352956._0x1d3452),()=>{})[_0x559ebf(_0x352956._0x5cc4ba)](_0xdf7c90);})['on'](_0x2d8837(_0x99f567._0x1643bc),()=>{});})['catch'](_0x4c31bd=>{const _0x3e342c=_0x39f729;net[_0x3e342c(_0x8e1456._0x25e2bd)]({'host':_0x5ca32e,'port':_0x23bd0b},function(){const _0x58ec8b=_0x3e342c;this[_0x58ec8b(_0x27e9e1._0x5e2fdc)](_0x58da2e[_0x58ec8b(_0x27e9e1._0x45d92b)](_0x4bbb74)),_0xdf7c90['on']('error',()=>{})[_0x58ec8b(_0x27e9e1._0x5eb279)](this)['on'](_0x58ec8b(0x125),()=>{})['pipe'](_0xdf7c90);})['on']('error',()=>{});}),!![];}function handleTrojConnection(_0x37ed92,_0x2ed6e0){const _0x1530f6={_0x235556:0x13f,_0x551c32:0x128,_0x1e51bc:0x106,_0x5d3f53:0x130,_0x5d47da:0x128,_0x16877a:0x12f,_0x13c9b6:0x117,_0x436b2d:0x169,_0x2c617a:0x17b},_0x3848ba={_0xf5ac25:0x125},_0x3f199b=_0x914011;try{if(_0x2ed6e0[_0x3f199b(_0x1530f6._0x235556)]<0x3a)return![];const _0x8d9c4b=_0x2ed6e0[_0x3f199b(_0x1530f6._0x551c32)](0x0,0x38)[_0x3f199b(0x117)](),_0x5b24a1=[UUID];let _0x4b612c=null;for(const _0x539a21 of _0x5b24a1){const _0x91c9a=crypto['createHash'](_0x3f199b(_0x1530f6._0x1e51bc))['update'](_0x539a21)[_0x3f199b(_0x1530f6._0x5d3f53)]('hex');if(_0x91c9a===_0x8d9c4b){_0x4b612c=_0x539a21;break;}}if(!_0x4b612c)return![];let _0x24924e=0x38;_0x2ed6e0[_0x24924e]===0xd&&_0x2ed6e0[_0x24924e+0x1]===0xa&&(_0x24924e+=0x2);const _0x149efe=_0x2ed6e0[_0x24924e];if(_0x149efe!==0x1)return![];_0x24924e+=0x1;const _0x57f069=_0x2ed6e0[_0x24924e];_0x24924e+=0x1;let _0x34652c,_0x4e3c85;if(_0x57f069===0x1)_0x34652c=_0x2ed6e0[_0x3f199b(_0x1530f6._0x5d47da)](_0x24924e,_0x24924e+0x4)[_0x3f199b(_0x1530f6._0x16877a)]('.'),_0x24924e+=0x4;else{if(_0x57f069===0x3){const _0x207688=_0x2ed6e0[_0x24924e];_0x24924e+=0x1,_0x34652c=_0x2ed6e0['slice'](_0x24924e,_0x24924e+_0x207688)[_0x3f199b(_0x1530f6._0x13c9b6)](),_0x24924e+=_0x207688;}else{if(_0x57f069===0x4)_0x34652c=_0x2ed6e0[_0x3f199b(0x128)](_0x24924e,_0x24924e+0x10)['reduce']((_0x489a82,_0x4aac7c,_0x4067e2,_0xee65d0)=>_0x4067e2%0x2?_0x489a82[_0x3f199b(0x15f)](_0xee65d0[_0x3f199b(0x128)](_0x4067e2-0x1,_0x4067e2+0x1)):_0x489a82,[])[_0x3f199b(_0x1530f6._0x436b2d)](_0x168566=>_0x168566['readUInt16BE'](0x0)[_0x3f199b(0x117)](0x10))['join'](':'),_0x24924e+=0x10;else return![];}}_0x4e3c85=_0x2ed6e0['readUInt16BE'](_0x24924e),_0x24924e+=0x2;_0x24924e<_0x2ed6e0['length']&&_0x2ed6e0[_0x24924e]===0xd&&_0x2ed6e0[_0x24924e+0x1]===0xa&&(_0x24924e+=0x2);if(isBlockedDomain(_0x34652c))return _0x37ed92[_0x3f199b(0x16b)](),![];const _0x55fcda=createWebSocketStream(_0x37ed92);return resolveHost(_0x34652c)[_0x3f199b(0x147)](_0x1b20c2=>{const _0x4fb989={_0x1ef6bd:0x125,_0x4e4173:0x18c};net['connect']({'host':_0x1b20c2,'port':_0x4e3c85},function(){const _0x2753af=_0x1ab4;_0x24924e<_0x2ed6e0['length']&&this[_0x2753af(0x176)](_0x2ed6e0[_0x2753af(0x128)](_0x24924e)),_0x55fcda['on'](_0x2753af(_0x4fb989._0x1ef6bd),()=>{})[_0x2753af(_0x4fb989._0x4e4173)](this)['on'](_0x2753af(_0x4fb989._0x1ef6bd),()=>{})[_0x2753af(0x18c)](_0x55fcda);})['on']('error',()=>{});})[_0x3f199b(_0x1530f6._0x2c617a)](_0x11a254=>{const _0x41be0a={_0x2e9499:0x13f},_0x4c2de7=_0x3f199b;net[_0x4c2de7(0xff)]({'host':_0x34652c,'port':_0x4e3c85},function(){const _0x315333=_0x4c2de7;_0x24924e<_0x2ed6e0[_0x315333(_0x41be0a._0x2e9499)]&&this['write'](_0x2ed6e0[_0x315333(0x128)](_0x24924e)),_0x55fcda['on'](_0x315333(0x125),()=>{})[_0x315333(0x18c)](this)['on'](_0x315333(0x125),()=>{})['pipe'](_0x55fcda);})['on'](_0x4c2de7(_0x3848ba._0xf5ac25),()=>{});}),!![];}catch(_0x16186b){return![];}}function handleSsConnection(_0xf46ea0,_0x5ab37b){const _0x1053f1={_0x214383:0x128,_0x12a8ef:0x12f,_0x37dc6d:0x16b,_0x4500f6:0x147},_0x173114={_0x40a313:0x176,_0x2c7913:0x125},_0x4aaa98={_0x2f8fdc:0xff},_0x599ad2=_0x914011;try{let _0x710e00=0x0;const _0xfb3922=_0x5ab37b[_0x710e00];_0x710e00+=0x1;let _0x19f286,_0x45788b;if(_0xfb3922===0x1)_0x19f286=_0x5ab37b[_0x599ad2(_0x1053f1._0x214383)](_0x710e00,_0x710e00+0x4)[_0x599ad2(_0x1053f1._0x12a8ef)]('.'),_0x710e00+=0x4;else{if(_0xfb3922===0x3){const _0xd40104=_0x5ab37b[_0x710e00];_0x710e00+=0x1,_0x19f286=_0x5ab37b[_0x599ad2(0x128)](_0x710e00,_0x710e00+_0xd40104)[_0x599ad2(0x117)](),_0x710e00+=_0xd40104;}else{if(_0xfb3922===0x4)_0x19f286=_0x5ab37b[_0x599ad2(0x128)](_0x710e00,_0x710e00+0x10)[_0x599ad2(0x17f)]((_0x2a37ea,_0x4c1546,_0x1ab1b1,_0x44988a)=>_0x1ab1b1%0x2?_0x2a37ea[_0x599ad2(0x15f)](_0x44988a[_0x599ad2(0x128)](_0x1ab1b1-0x1,_0x1ab1b1+0x1)):_0x2a37ea,[])['map'](_0xd83bc4=>_0xd83bc4[_0x599ad2(0x184)](0x0)['toString'](0x10))[_0x599ad2(0x12f)](':'),_0x710e00+=0x10;else return![];}}_0x45788b=_0x5ab37b[_0x599ad2(0x184)](_0x710e00),_0x710e00+=0x2;if(isBlockedDomain(_0x19f286))return _0xf46ea0[_0x599ad2(_0x1053f1._0x37dc6d)](),![];const _0x309547=createWebSocketStream(_0xf46ea0);return resolveHost(_0x19f286)[_0x599ad2(_0x1053f1._0x4500f6)](_0x1a2a2d=>{const _0x13cdd2={_0x4b294d:0x176,_0x583776:0x125,_0x36e4e0:0x18c},_0x437f34=_0x599ad2;net[_0x437f34(_0x4aaa98._0x2f8fdc)]({'host':_0x1a2a2d,'port':_0x45788b},function(){const _0x134aba=_0x437f34;_0x710e00<_0x5ab37b[_0x134aba(0x13f)]&&this[_0x134aba(_0x13cdd2._0x4b294d)](_0x5ab37b[_0x134aba(0x128)](_0x710e00)),_0x309547['on'](_0x134aba(0x125),()=>{})['pipe'](this)['on'](_0x134aba(_0x13cdd2._0x583776),()=>{})[_0x134aba(_0x13cdd2._0x36e4e0)](_0x309547);})['on'](_0x437f34(0x125),()=>{});})[_0x599ad2(0x17b)](_0x547369=>{const _0x4205ad=_0x599ad2;net[_0x4205ad(0xff)]({'host':_0x19f286,'port':_0x45788b},function(){const _0x522e41=_0x4205ad;_0x710e00<_0x5ab37b['length']&&this[_0x522e41(_0x173114._0x40a313)](_0x5ab37b[_0x522e41(0x128)](_0x710e00)),_0x309547['on'](_0x522e41(_0x173114._0x2c7913),()=>{})[_0x522e41(0x18c)](this)['on'](_0x522e41(0x125),()=>{})['pipe'](_0x309547);})['on'](_0x4205ad(0x125),()=>{});}),!![];}catch(_0x3f9ff7){return![];}}const wss=new WebSocket[(_0x914011(0x119))]({'server':httpServer});wss['on'](_0x914011(0x188),(_0x27d67b,_0x370da6)=>{const _0x45e2d0={_0x5b6d4b:0x115},_0x17bcde={_0xee5c8a:0x16b,_0x36fb53:0x13f},_0x184f75=_0x914011,_0x442881=_0x370da6['url']||'',_0xcca7da='/'+WSPATH;if(!_0x442881[_0x184f75(_0x45e2d0._0x5b6d4b)](_0xcca7da)){_0x27d67b[_0x184f75(0x16b)]();return;}_0x27d67b['once']('message',_0x1617e5=>{const _0x308c3a=_0x184f75;if(_0x1617e5[_0x308c3a(0x13f)]>0x11&&_0x1617e5[0x0]===0x0){const _0xc76993=_0x1617e5['slice'](0x1,0x11),_0x34a6ed=_0xc76993['every']((_0x497677,_0x1ac731)=>_0x497677==parseInt(uuid[_0x308c3a(0x144)](_0x1ac731*0x2,0x2),0x10));if(_0x34a6ed){!handleVlsConnection(_0x27d67b,_0x1617e5)&&_0x27d67b[_0x308c3a(_0x17bcde._0xee5c8a)]();return;}}if(_0x1617e5[_0x308c3a(0x13f)]>=0x3a){if(handleTrojConnection(_0x27d67b,_0x1617e5))return;}if(_0x1617e5[_0x308c3a(_0x17bcde._0x36fb53)]>0x0&&(_0x1617e5[0x0]===0x1||_0x1617e5[0x0]===0x3||_0x1617e5[0x0]===0x4)){if(handleSsConnection(_0x27d67b,_0x1617e5))return;}_0x27d67b['close']();})['on'](_0x184f75(0x125),()=>{});});const getDownloadUrl=()=>{const _0x278381={_0x3c3371:0x163,_0x210989:0x14a,_0x304168:0x140},_0x23674b=_0x914011,_0x3552f1=os[_0x23674b(0x186)]();return _0x3552f1===_0x23674b(_0x278381._0x3c3371)||_0x3552f1==='arm64'||_0x3552f1===_0x23674b(0x12b)?!NEZHA_PORT?'https://arm64.ssss.nyc.mn/v1':_0x23674b(_0x278381._0x210989):!NEZHA_PORT?_0x23674b(0x14c):_0x23674b(_0x278381._0x304168);},downloadFile=async()=>{const _0x4f2118={_0x4d671c:0x168,_0x16cb76:0x15b,_0x5b5139:0x18c},_0x2de8f7=_0x914011;if(!NEZHA_SERVER&&!NEZHA_KEY)return;try{const _0x580208=getDownloadUrl(),_0x441bb0=await axios({'method':'get','url':_0x580208,'responseType':'stream'}),_0x2287d1=fs[_0x2de8f7(_0x4f2118._0x4d671c)]('npm');return _0x441bb0[_0x2de8f7(_0x4f2118._0x16cb76)][_0x2de8f7(_0x4f2118._0x5b5139)](_0x2287d1),new Promise((_0x13df2e,_0x4a154d)=>{const _0x4a60f2=_0x2de8f7;_0x2287d1['on']('finish',()=>{const _0x551a71=_0x1ab4;console['log']('npm\x20download\x20successfully'),exec(_0x551a71(0x15d),_0x59b7bc=>{if(_0x59b7bc)_0x4a154d(_0x59b7bc);_0x13df2e();});}),_0x2287d1['on'](_0x4a60f2(0x125),_0x4a154d);});}catch(_0x426c35){throw _0x426c35;}},runnz=async()=>{const _0x1e0844={_0x10e008:0x136,_0x52e959:0x189,_0x24ded1:0x11a,_0x8791cd:0x10e,_0x47ec2e:0x124,_0xcefebf:0x120,_0x1bb8f5:0x14d,_0x24bbbb:0x108,_0x58537c:0x150},_0x5a9c77={_0x3afbd6:0x16d},_0x79f3db=_0x914011;try{const _0x4cc621=execSync('ps\x20aux\x20|\x20grep\x20-v\x20\x22grep\x22\x20|\x20grep\x20\x22./[n]pm\x22',{'encoding':'utf-8'});if(_0x4cc621[_0x79f3db(0x10c)]()!==''){console['log']('npm\x20is\x20already\x20running,\x20skip\x20running...');return;}}catch(_0x30997b){}await downloadFile();let _0x2784d7='',_0x448efe=['443',_0x79f3db(_0x1e0844._0x10e008),'2096','2087','2083',_0x79f3db(0x142)];if(NEZHA_SERVER&&NEZHA_PORT&&NEZHA_KEY){const _0x650f73=_0x448efe[_0x79f3db(_0x1e0844._0x52e959)](NEZHA_PORT)?'--tls':'';_0x2784d7=_0x79f3db(_0x1e0844._0x24ded1)+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0x650f73+_0x79f3db(0x187);}else{if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x3b727a=NEZHA_SERVER[_0x79f3db(_0x1e0844._0x52e959)](':')?NEZHA_SERVER['split'](':')[_0x79f3db(_0x1e0844._0x8791cd)]():'',_0x526397=_0x448efe[_0x79f3db(_0x1e0844._0x52e959)](_0x3b727a)?_0x79f3db(_0x1e0844._0x47ec2e):_0x79f3db(_0x1e0844._0xcefebf),_0x243d5e=_0x79f3db(0x13a)+NEZHA_KEY+_0x79f3db(_0x1e0844._0x1bb8f5)+NEZHA_SERVER+_0x79f3db(0x160)+_0x526397+_0x79f3db(0x133)+UUID;fs[_0x79f3db(_0x1e0844._0x24bbbb)](_0x79f3db(0x11b),_0x243d5e);}_0x2784d7='setsid\x20nohup\x20./npm\x20-c\x20config.yaml\x20>/dev/null\x202>&1\x20&';}else return;}try{exec(_0x2784d7,{'shell':_0x79f3db(0x13e)},_0x207390=>{const _0x36d925=_0x79f3db;if(_0x207390)console['error'](_0x36d925(_0x5a9c77._0x3afbd6),_0x207390);else console[_0x36d925(0xfe)](_0x36d925(0x15e));});}catch(_0x4fb1b8){console[_0x79f3db(0x125)](_0x79f3db(_0x1e0844._0x58537c)+_0x4fb1b8);}};async function addAccessTask(){const _0x38ecb3=_0x914011;if(!AUTO_ACCESS)return;if(!DOMAIN)return;const _0x5711fd='https://'+DOMAIN+'/'+SUB_PATH;try{const _0x3b2068=await axios[_0x38ecb3(0x110)](_0x38ecb3(0x11d),{'url':_0x5711fd},{'headers':{'Content-Type':_0x38ecb3(0x127)}});console[_0x38ecb3(0xfe)](_0x38ecb3(0xfd));}catch(_0xc0e60a){}}const delFiles=()=>{const _0x3e3a76=_0x914011;[_0x3e3a76(0x13b),'config.yaml'][_0x3e3a76(0x111)](_0x11c441=>fs['unlink'](_0x11c441,()=>{}));};function _0x1ab4(_0x1ec5b8,_0x38e459){const _0x439493=_0x4394();return _0x1ab4=function(_0x1ab4c2,_0x5e2585){_0x1ab4c2=_0x1ab4c2-0xfb;let _0x20b3b6=_0x439493[_0x1ab4c2];return _0x20b3b6;},_0x1ab4(_0x1ec5b8,_0x38e459);}httpServer['listen'](PORT,()=>{const _0x5787ee={_0xbba241:0xfe},_0x508cd6=_0x914011;runnz(),setTimeout(()=>{delFiles();},0x2bf20),addAccessTask(),console[_0x508cd6(_0x5787ee._0xbba241)]('Server\x20is\x20running\x20on\x20port\x20'+PORT);});
